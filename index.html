<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@pierred/node-git</title><meta name="description" content="Documentation for @pierred/node-git"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@pierred/node-git</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>@pierred/node-git</h2></div><div class="tsd-panel tsd-typography"><blockquote>
<p>Simple Git API for Node.js (ESM).</p>
</blockquote>
<p><a href="#md:contributors-"><img src="https://img.shields.io/badge/all_contributors-2-orange.svg?style=for-the-badge" alt="All Contributors"></a>
<a href="https://npmjs.com/package/@pierred/node-git"><img src="https://img.shields.io/npm/v/@pierred/node-git.svg?style=for-the-badge" alt="npm version"></a>
<a href="https://github.com/PierreDemailly/node-git/commits/main"><img src="https://img.shields.io/github/last-commit/pierredemailly/node-git.svg?style=for-the-badge" alt="last commit"></a></p>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">i</span><span class="hl-1"> @</span><span class="hl-0">pierred</span><span class="hl-1">/</span><span class="hl-0">node</span><span class="hl-1">-</span><span class="hl-0">git</span>
</code><button>Copy</button></pre>
<a id="md:api" class="tsd-anchor"></a><h2><a href="#md:api">API</a></h2><a id="md:changescount" class="tsd-anchor"></a><h3><a href="#md:changescount"><code>changesCount()</code></a></h3><p>Get the count of changes.</p>
<p>It does include changes that have been staged, which haven&#39;t.</p>
<p>It does not include changes that are untracked.</p>
<pre><code class="language-ts"><span class="hl-2">changesCount</span><span class="hl-1">(): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">number</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>
<a id="md:stagedcount" class="tsd-anchor"></a><h3><a href="#md:stagedcount"><code>stagedCount()</code></a></h3><p>Get the count of changes that have been staged.</p>
<pre><code class="language-ts"><span class="hl-2">stagedCount</span><span class="hl-1">(): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">number</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>
<a id="md:commitmessage-options" class="tsd-anchor"></a><h3><a href="#md:commitmessage-options"><code>commit(message[, options])</code></a></h3><p>Create a commit given one or multiple commit message(s).</p>
<pre><code class="language-ts"><span class="hl-2">commit</span><span class="hl-1">(</span><span class="hl-0">message</span><span class="hl-1">: </span><span class="hl-0">string</span><span class="hl-1"> | </span><span class="hl-0">string</span><span class="hl-1">[], </span><span class="hl-0">options</span><span class="hl-1">?: { </span><span class="hl-0">skipHooks:</span><span class="hl-1"> </span><span class="hl-0">boolean</span><span class="hl-1"> }): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>
<p>Example usage:</p>
<pre><code class="language-ts"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-2">commit</span><span class="hl-1">(</span><span class="hl-6">&quot;My Commit&quot;</span><span class="hl-1">); </span><span class="hl-7">// execute `git commit -m &quot;My Commit&quot;`.</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-2">commit</span><span class="hl-1">([</span><span class="hl-6">&quot;My Commit&quot;</span><span class="hl-1">, </span><span class="hl-6">&quot;My Second Commit&quot;</span><span class="hl-1">]); </span><span class="hl-7">// execute `git commit -m &quot;My Commit&quot; -m &quot;My Second Commit&quot;`.</span>
</code><button>Copy</button></pre>
<a id="md:indexalloptions" class="tsd-anchor"></a><h3><a href="#md:indexalloptions"><code>indexAll(options)</code></a></h3><p>Add current changes to the git staging area.</p>
<pre><code class="language-ts"><span class="hl-2">indexAll</span><span class="hl-1">(</span><span class="hl-0">options</span><span class="hl-1">?: </span><span class="hl-0">IndexAllOptions</span><span class="hl-1">): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>
<a id="md:indexallcurrentdirectoryoptions" class="tsd-anchor"></a><h3><a href="#md:indexallcurrentdirectoryoptions"><code>indexAllCurrentDirectory(options)</code></a></h3><p>Add current changes of the current working directory to the git staging area.</p>
<pre><code class="language-ts"><span class="hl-2">indexAllCurrentDirectory</span><span class="hl-1">(</span><span class="hl-0">options</span><span class="hl-1">?: </span><span class="hl-0">indexAllCurrentDirectoryOptions</span><span class="hl-1">): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>
<p>This method should not be used with Git V2.x without ignoreRemovals: true, because Git V2.x does include deleted files
by default. Git V1.x side, it doesn&#39;t support --ignore-removal flag, deleted files are
omitted as expected behavior.</p>
<a id="md:indexfileordirectoryfileordirectory" class="tsd-anchor"></a><h3><a href="#md:indexfileordirectoryfileordirectory"><code>indexFileOrDirectory(fileOrDirectory)</code></a></h3><p>Add standalone file or directory to the git staging area.</p>
<pre><code class="language-ts"><span class="hl-2">indexFileOrDirectory</span><span class="hl-1">(</span><span class="hl-0">fileOrDirectory</span><span class="hl-1">: </span><span class="hl-0">string</span><span class="hl-1">): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>
<a id="md:indexfilesordirectoriesfilesordirectories" class="tsd-anchor"></a><h3><a href="#md:indexfilesordirectoriesfilesordirectories"><code>indexFilesOrDirectories(filesOrDirectories)</code></a></h3><p>Add multiple files or directories to the git staging area.</p>
<pre><code class="language-ts"><span class="hl-2">indexFilesOrDirectories</span><span class="hl-1">(</span><span class="hl-0">filesOrDirectories</span><span class="hl-1">: </span><span class="hl-0">string</span><span class="hl-1">[]): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>
<a id="md:logs" class="tsd-anchor"></a><h3><a href="#md:logs"><code>logs()</code></a></h3><p>Get the list of all commits for the current branch.</p>
<pre><code class="language-ts"><span class="hl-2">logs</span><span class="hl-1">(): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">Commit</span><span class="hl-1">[]&gt;</span>
</code><button>Copy</button></pre>
<a id="md:push" class="tsd-anchor"></a><h3><a href="#md:push"><code>push()</code></a></h3><p>Push to remote.</p>
<pre><code class="language-ts"><span class="hl-2">push</span><span class="hl-1">(): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>
<a id="md:restorefilefile" class="tsd-anchor"></a><h3><a href="#md:restorefilefile"><code>restoreFile(file)</code></a></h3><p>Remove given file from the git staging area.</p>
<pre><code class="language-ts"><span class="hl-2">restoreFile</span><span class="hl-1">(</span><span class="hl-0">file</span><span class="hl-1">: </span><span class="hl-0">string</span><span class="hl-1">): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>
<a id="md:currentbranch" class="tsd-anchor"></a><h3><a href="#md:currentbranch"><code>currentBranch()</code></a></h3><p>Retrieve current branch name.</p>
<pre><code class="language-ts"><span class="hl-2">currentBranch</span><span class="hl-1">(): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">string</span><span class="hl-1">&gt;</span>
</code><button>Copy</button></pre>
<a id="md:init" class="tsd-anchor"></a><h3><a href="#md:init"><code>init()</code></a></h3><p>Initialize a git repository.
If git is already initialized, it will prompt for a confirmation.</p>
<pre><code class="language-ts"><span class="hl-2">init</span><span class="hl-1">(): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt;;</span>
</code><button>Copy</button></pre>
<a id="md:currentauthor" class="tsd-anchor"></a><h3><a href="#md:currentauthor"><code>currentAuthor()</code></a></h3><p>Get the current author to the format <code>name &lt;email&gt;</code> (based on Git configuration).</p>
<pre><code class="language-ts"><span class="hl-2">currentAuthor</span><span class="hl-1">(): </span><span class="hl-3">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">string</span><span class="hl-1">&gt;;</span>
</code><button>Copy</button></pre>
<a id="md:types" class="tsd-anchor"></a><h2><a href="#md:types">Types</a></h2><a id="md:indexalloptions-1" class="tsd-anchor"></a><h3><a href="#md:indexalloptions-1">IndexAllOptions</a></h3><pre><code class="language-ts"><span class="hl-4">interface</span><span class="hl-1"> </span><span class="hl-3">IndexAllOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">omitNewFiles</span><span class="hl-1">: </span><span class="hl-3">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Whether omit to index new files.
Setting it to true will execute git add -u.</p>
<a id="md:indexallcurrentdirectoryoptions-1" class="tsd-anchor"></a><h3><a href="#md:indexallcurrentdirectoryoptions-1">indexAllCurrentDirectoryOptions</a></h3><pre><code class="language-ts"><span class="hl-4">interface</span><span class="hl-1"> </span><span class="hl-3">indexAllCurrentDirectoryOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">ignoreRemovals</span><span class="hl-1">: </span><span class="hl-3">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Whether omit to index deleted files.
Setting it to true will execute git add . --ignore-removal.</p>
<a id="md:commitmergeresult" class="tsd-anchor"></a><h3><a href="#md:commitmergeresult">CommitMergeResult</a></h3><pre><code class="language-ts"><span class="hl-4">interface</span><span class="hl-1"> </span><span class="hl-3">CommitMergeResult</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">from</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">to</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Represents the result of a merge commit.</p>
<a id="md:commitauthor" class="tsd-anchor"></a><h3><a href="#md:commitauthor">CommitAuthor</a></h3><pre><code class="language-ts"><span class="hl-4">interface</span><span class="hl-1"> </span><span class="hl-3">CommitAuthor</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">email</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Represents a commit author: name &amp; email.</p>
<a id="md:commit" class="tsd-anchor"></a><h3><a href="#md:commit">Commit</a></h3><pre><code class="language-ts"><span class="hl-4">interface</span><span class="hl-1"> </span><span class="hl-3">Commit</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">commit</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">merged</span><span class="hl-1">: </span><span class="hl-3">null</span><span class="hl-1"> | </span><span class="hl-3">CommitMergeResult</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">author</span><span class="hl-1">: </span><span class="hl-3">CommitAuthor</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">date</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">message</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">[]</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Represent a commit.</p>
<a id="md:contributors-✨" class="tsd-anchor"></a><h2><a href="#md:contributors-✨">Contributors ✨</a></h2><p>Thanks goes to these wonderful people (<a href="https://allcontributors.org/docs/en/emoji-key">emoji key</a>):</p>
<!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section -->
<!-- prettier-ignore-start -->
<!-- markdownlint-disable -->
<table>
  <tbody>
    <tr>
      <td align="center" valign="top" width="14.28%"><a href="https://github.com/PierreDemailly"><img src="https://avatars.githubusercontent.com/u/39910767?v=4?s=80" width="80px;" alt="PierreD"/><br /><sub><b>PierreD</b></sub></a><br /><a href="https://github.com/PierreDemailly/node-git/commits?author=PierreDemailly" title="Code">💻</a> <a href="https://github.com/PierreDemailly/node-git/commits?author=PierreDemailly" title="Tests">⚠️</a></td>
      <td align="center" valign="top" width="14.28%"><a href="https://github.com/SofianD"><img src="https://avatars.githubusercontent.com/u/39944043?v=4?s=80" width="80px;" alt="Yefis"/><br /><sub><b>Yefis</b></sub></a><br /><a href="https://github.com/PierreDemailly/node-git/commits?author=SofianD" title="Code">💻</a> <a href="https://github.com/PierreDemailly/node-git/pulls?q=is%3Apr+reviewed-by%3ASofianD" title="Reviewed Pull Requests">👀</a></td>
    </tr>
  </tbody>
</table>

<!-- markdownlint-restore -->
<!-- prettier-ignore-end -->

<!-- ALL-CONTRIBUTORS-LIST:END -->

<p>This project follows the <a href="https://github.com/all-contributors/all-contributors">all-contributors</a> specification. Contributions of any kind welcome!</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:installation"><span>Installation</span></a><a href="#md:api"><span>API</span></a><ul><li><a href="#md:changescount"><span>changes<wbr/>Count()</span></a></li><li><a href="#md:stagedcount"><span>staged<wbr/>Count()</span></a></li><li><a href="#md:commitmessage-options"><span>commit(message[, options])</span></a></li><li><a href="#md:indexalloptions"><span>index<wbr/>All(options)</span></a></li><li><a href="#md:indexallcurrentdirectoryoptions"><span>index<wbr/>All<wbr/>Current<wbr/>Directory(options)</span></a></li><li><a href="#md:indexfileordirectoryfileordirectory"><span>index<wbr/>File<wbr/>Or<wbr/>Directory(file<wbr/>Or<wbr/>Directory)</span></a></li><li><a href="#md:indexfilesordirectoriesfilesordirectories"><span>index<wbr/>Files<wbr/>Or<wbr/>Directories(files<wbr/>Or<wbr/>Directories)</span></a></li><li><a href="#md:logs"><span>logs()</span></a></li><li><a href="#md:push"><span>push()</span></a></li><li><a href="#md:restorefilefile"><span>restore<wbr/>File(file)</span></a></li><li><a href="#md:currentbranch"><span>current<wbr/>Branch()</span></a></li><li><a href="#md:init"><span>init()</span></a></li><li><a href="#md:currentauthor"><span>current<wbr/>Author()</span></a></li></ul><a href="#md:types"><span>Types</span></a><ul><li><a href="#md:indexalloptions-1"><span>Index<wbr/>All<wbr/>Options</span></a></li><li><a href="#md:indexallcurrentdirectoryoptions-1"><span>index<wbr/>All<wbr/>Current<wbr/>Directory<wbr/>Options</span></a></li><li><a href="#md:commitmergeresult"><span>Commit<wbr/>Merge<wbr/>Result</span></a></li><li><a href="#md:commitauthor"><span>Commit<wbr/>Author</span></a></li><li><a href="#md:commit"><span>Commit</span></a></li></ul><a href="#md:contributors-✨"><span>Contributors ✨</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>@pierred/node-git</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>